#include "../../minirt.h"

bool		check_attributes_num(char **attributes, uint8_t expected){
	uint8_t i;

	i = 0;
	while (attributes[i])
		i++;
	if (i != expected)
		return (false);
	return (true);
}

bool	parse_color(char *attributes, t_vec3 *color){
	int	rgb[3];
	uint8_t	i;

	i = 0;
	while (i <= 2){
		rgb[i] = ft_atoi(attributes);
		if (rgb[i] < 0 || rgb[i] > 255)
			return (false);
		if (i++ != 2)
			attributes += ft_strchr(attributes, ',') + 1;
	}
	color->x = rgb[0];
	color->y = rgb[1];
	color->z = rgb[2];
	return (true);
}

bool	parse_orientation(char *attributes, t_vec3 *ori){
	float	o[3];
	uint8_t	i;

	i = 0;
	while (i <= 2){
		o[i] = ft_atof(attributes);
		if (o[i] < -1. || o[i] > 1.)
			return (false);
		if (i++ != 2)
			attributes += ft_strchr(attributes, ',') + 1;
	}
	ori->x = o[0];
	ori->y = o[1];
	ori->z = o[2];
	return (true);	
}

bool	parse_position(char *attributes, t_vec3 *pos){
	float	p[3];
	uint8_t	i;

	i = 0;
	while (i <= 2){
		p[i] = ft_atof(attributes);
		if (i++ != 2)
			attributes += ft_strchr(attributes, ',') + 1;
	}
	pos->x = p[0];
	pos->y = p[1];
	pos->z = p[2];
	return (true);	
}
